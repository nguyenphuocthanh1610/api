 $type = ['h265_sd', 'h265_hd', 'h264_hd'];

    $test_array = [
        "unique_id"=> "a00001",
        "h265_sd"=>null,
        "h265_hd"=> [
        'a'=>'A',
        'b'=>'B',
        'c'=>'C'
        ],
        "h264_hd"=> [
        'a'=>'A',
        'b'=>'B',
        'c'=>'C'
        ],
    ];

    $test_array += ['output_contents'=> []];
    foreach($test_array as $key=>$value){
        if(in_array($key, $type) && $test_array[$key] === null) {
            $test_array[$key] = 0;
        }
        else if(in_array($key, $type) && $test_array[$key] !== null) {
            $video_type = explode('_', $key);
            $test_array[$key] += ['video'=>$video_type[0]];
            $test_array[$key] += ['codec'=>$video_type[1]];
            $obj = (object) ($test_array[$key]);
            array_push($test_array['output_contents'], (object) ($test_array[$key]));
            $test_array[$key] = 1;
        }
    }